<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ¨èé™¢æ ¡ä¸“ä¸š</title>
  <link rel="stylesheet" href="../assets/base.css" />
  <style>
    .level-tabs { display: flex; gap: 8px; background: #f2f4f9; padding: 4px; border-radius: 999px; margin: 4px 0 12px; }
    .level-tab { flex: 1; text-align: center; font-size: 12px; padding: 6px 0; border-radius: 999px; color: var(--muted); cursor: pointer; }
    .level-tab.active { background: #ffffff; color: var(--primary); font-weight: 600; box-shadow: 0 6px 14px rgba(31, 42, 58, 0.08); }
    .filter-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 12px; }
    .filter-select { appearance: none; -webkit-appearance: none; -moz-appearance: none; background: #f0f3f8; border: none; border-radius: 999px; padding: 6px 28px 6px 12px; font-size: 12px; color: #566070; width: 100%; position: relative; }
    .filter-wrap { position: relative; }
    .filter-wrap::after { content: ""; position: absolute; right: 12px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-left: 4px solid transparent; border-right: 4px solid transparent; border-top: 5px solid #b3bccb; pointer-events: none; }
    .list-wrap { display: grid; grid-template-columns: 1fr; gap: 12px; }
    .tab-panel { display: none; }
    .tab-panel.active { display: grid; }
    .match-card { padding: 14px; cursor: pointer; }
    .match-head { display: flex; align-items: center; justify-content: space-between; }
    .match-title { font-size: 15px; font-weight: 700; color: #1f2a3d; }
    .badge { padding: 4px 10px; border-radius: 999px; font-size: 11px; font-weight: 600; }
    .badge.easy { background: rgba(18, 183, 106, 0.12); color: var(--success); }
    .badge.mid { background: rgba(247, 144, 9, 0.15); color: var(--warning); }
    .badge.hard { background: rgba(245, 73, 73, 0.12); color: #f54949; }
    .school-line { display: flex; align-items: center; gap: 8px; margin-top: 8px; color: #2f3a4a; font-size: 13px; }
    .school-logo { width: 22px; height: 22px; border-radius: 50%; background: #eef2f8; display: inline-flex; align-items: center; justify-content: center; font-size: 10px; color: #6b7382; }
    .location { color: #9aa3b2; font-size: 12px; }
    .info-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 6px 12px; margin-top: 10px; font-size: 12px; color: #6b7382; }
    .score-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; margin-top: 10px; padding-top: 10px; border-top: 1px solid #f0f3f8; text-align: center; }
    .score-label { font-size: 11px; color: #9aa3b2; }
    .score-value { font-size: 16px; font-weight: 700; color: #1f2a3d; margin-top: 4px; }
    .foot-row { display: flex; align-items: center; justify-content: space-between; margin-top: 10px; font-size: 12px; color: #9aa3b2; }
    .foot-badge { color: #ff5b5b; font-weight: 600; }
    .wishlist-btn { padding: 6px 12px; background: rgba(47, 107, 255, 0.12); color: var(--primary); border-radius: 12px; font-size: 12px; cursor: pointer; border: none; display: inline-flex; align-items: center; gap: 4px; }
    .wishlist-btn::before { content: "ğŸ“‹"; font-size: 14px; }
    .match-actions { display: flex; align-items: center; justify-content: space-between; margin-top: 12px; padding-top: 12px; border-top: 1px solid #f0f3f8; }
    .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); z-index: 1000; display: none; }
    .modal-overlay.active { display: flex; align-items: center; justify-content: center; }
    .modal-content { background: #ffffff; border-radius: 16px; width: calc(var(--page-width) - 32px); max-width: 400px; padding: 20px; }
    .modal-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
    .modal-title { font-size: 16px; font-weight: 600; }
    .modal-close { width: 24px; height: 24px; border-radius: 50%; background: #f4f6fb; border: none; cursor: pointer; font-size: 18px; color: #6b7382; display: flex; align-items: center; justify-content: center; }
    .wish-options { display: flex; flex-direction: column; gap: 12px; }
    .wish-option { padding: 14px 16px; background: #f4f6fb; border-radius: 12px; font-size: 14px; color: #3a4352; cursor: pointer; border: none; text-align: left; }
    .wish-option:hover { background: rgba(47, 107, 255, 0.12); color: var(--primary); }
    .degree-badge { display: inline-block; font-size: 10px; padding: 1px 5px; border-radius: 4px; margin-left: 6px; font-weight: normal; vertical-align: middle; border: 1px solid transparent; transform: translateY(-1px); }
    .degree-badge.pro { background: #f0f9ff; color: var(--primary); border-color: rgba(47, 107, 255, 0.2); }
    .degree-badge.aca { background: #f0fdf4; color: var(--success); border-color: rgba(18, 183, 106, 0.2); }
    .fab-cart { position: fixed; right: calc(50% - var(--page-width) / 2 + 20px); bottom: 92px; width: 56px; height: 56px; background: linear-gradient(135deg, #2f6bff, #4d8dff); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 24px rgba(47, 107, 255, 0.3); cursor: pointer; z-index: 900; transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); }
    @media (max-width: 480px) {
      .fab-cart { right: 20px; }
    }
    .fab-cart:active { transform: scale(0.9); }
    .fab-icon { font-size: 24px; color: #fff; }
    .fab-badge { position: absolute; top: -4px; right: -4px; background: #ff6b4a; color: #fff; font-size: 11px; font-weight: 700; height: 20px; min-width: 20px; padding: 0 6px; border-radius: 999px; display: flex; align-items: center; justify-content: center; border: 2px solid #fff; box-shadow: 0 2px 6px rgba(255, 107, 74, 0.3); transform: scale(0); transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
    .fab-badge.visible { transform: scale(1); }
    @keyframes bounce { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
    .fab-cart.animating { animation: bounce 0.3s ease; }
  </style>
</head>
<body>
  <div class="page">
    <div class="container">
      <div class="level-tabs" data-tab-group>
        <div class="level-tab active" data-tab-item data-target="all">å…¨éƒ¨</div>
        <div class="level-tab" data-tab-item data-target="rush">å†²åˆº</div>
        <div class="level-tab" data-tab-item data-target="steady">æ±‚ç¨³</div>
        <div class="level-tab" data-tab-item data-target="safe">ä¿åº•</div>
      </div>

      <div class="filter-row">
        <div class="filter-wrap">
          <select class="filter-select">
            <option>å¤–å›½è¯­</option>
            <option>è‹±è¯­ä¸€</option>
            <option>è‹±è¯­äºŒ</option>
            <option>æ—¥è¯­</option>
            <option>ä¿„è¯­</option>
          </select>
        </div>
        <div class="filter-wrap">
          <select class="filter-select">
            <option>æ•°å­¦</option>
            <option>æ•°å­¦ä¸€</option>
            <option>æ•°å­¦äºŒ</option>
            <option>æ•°å­¦ä¸‰</option>
            <option>ä¸è€ƒæ•°å­¦</option>
          </select>
        </div>
        <div class="filter-wrap">
          <select class="filter-select">
            <option>ä¸“ä¸šè¯¾</option>
            <option>408</option>
            <option>è‡ªå‘½é¢˜</option>
            <option>ç»Ÿè€ƒ</option>
          </select>
        </div>
      </div>

      <div class="list-wrap tab-panel active" data-panel="all">
        <div class="card match-card" onclick="location.href='info-detail.html'">
          <div class="match-head">
            <div class="match-title">085404-è®¡ç®—æœºæŠ€æœ¯<span class="degree-badge pro">ä¸“ç¡•</span></div>
            <span class="badge mid">ä¸­</span>
          </div>
          <div class="school-line">
            <span class="school-logo">å¤§</span>
            <span>å¤§è¿æµ·æ´‹å¤§å­¦</span>
            <span class="location">â€¢ è¾½å®</span>
          </div>
          <div class="info-grid">
            <span>å¹´ä»½ï¼š2025</span>
            <span>å­¦ä¹ æ–¹å¼ï¼šéå…¨æ—¥åˆ¶</span>
            <span>ä¿¡æ¯å·¥ç¨‹å­¦é™¢</span>
            <span>è°ƒå‰‚æ‹›ç”Ÿï¼š1äºº</span>
          </div>
          <div class="score-row">
            <div>
              <div class="score-label">å½•å–æœ€ä½åˆ†</div>
              <div class="score-value">261</div>
            </div>
            <div>
              <div class="score-label">å½•å–ä¸­ä½åˆ†</div>
              <div class="score-value">266</div>
            </div>
            <div>
              <div class="score-label">å½•å–æœ€é«˜åˆ†</div>
              <div class="score-value">278</div>
            </div>
          </div>
          <div class="foot-row">
            <span>è¯¥é™¢æ ¡ä¸æ‚¨æ¯•ä¸šé™¢æ ¡æ’åå·®è·</span>
            <span class="foot-badge">è¾ƒå¤§</span>
          </div>
          <div class="match-actions">
            <button class="wishlist-btn" onclick="showWishlistModal(event)">åŠ å…¥å¿—æ„¿å•</button>
          </div>
        </div>

        <div class="card match-card" onclick="location.href='info-detail.html'">
          <div class="match-head">
            <div class="match-title">085404-è®¡ç®—æœºæŠ€æœ¯<span class="degree-badge pro">ä¸“ç¡•</span></div>
            <span class="badge hard">éš¾</span>
          </div>
          <div class="school-line">
            <span class="school-logo">äº¤</span>
            <span>å¤§è¿äº¤é€šå¤§å­¦</span>
            <span class="location">â€¢ è¾½å®</span>
          </div>
          <div class="info-grid">
            <span>å¹´ä»½ï¼š2025</span>
            <span>å­¦ä¹ æ–¹å¼ï¼šéå…¨æ—¥åˆ¶</span>
            <span>è½¨é“æ™ºèƒ½å·¥ç¨‹å­¦é™¢</span>
            <span>è°ƒå‰‚æ‹›ç”Ÿï¼š4äºº</span>
          </div>
          <div class="score-row">
            <div>
              <div class="score-label">å½•å–æœ€ä½åˆ†</div>
              <div class="score-value">274</div>
            </div>
            <div>
              <div class="score-label">å½•å–ä¸­ä½åˆ†</div>
              <div class="score-value">278.5</div>
            </div>
            <div>
              <div class="score-label">å½•å–æœ€é«˜åˆ†</div>
              <div class="score-value">283</div>
            </div>
          </div>
          <div class="foot-row">
            <span>è¯¥é™¢æ ¡ä¸æ‚¨æ¯•ä¸šé™¢æ ¡æ’åå·®è·</span>
            <span class="foot-badge">è¾ƒå¤§</span>
          </div>
          <div class="match-actions">
            <button class="wishlist-btn" onclick="showWishlistModal(event)">åŠ å…¥å¿—æ„¿å•</button>
          </div>
        </div>
      </div>

      <div class="list-wrap tab-panel" data-panel="rush">
        <div class="card match-card" onclick="location.href='info-detail.html'">
          <div class="match-head">
            <div class="match-title">085404-è®¡ç®—æœºæŠ€æœ¯<span class="degree-badge pro">ä¸“ç¡•</span></div>
            <span class="badge hard">éš¾</span>
          </div>
          <div class="school-line">
            <span class="school-logo">äº¤</span>
            <span>å¤§è¿äº¤é€šå¤§å­¦</span>
            <span class="location">â€¢ è¾½å®</span>
          </div>
          <div class="info-grid">
            <span>å¹´ä»½ï¼š2025</span>
            <span>å­¦ä¹ æ–¹å¼ï¼šéå…¨æ—¥åˆ¶</span>
            <span>è½¨é“æ™ºèƒ½å·¥ç¨‹å­¦é™¢</span>
            <span>è°ƒå‰‚æ‹›ç”Ÿï¼š4äºº</span>
          </div>
          <div class="score-row">
            <div>
              <div class="score-label">å½•å–æœ€ä½åˆ†</div>
              <div class="score-value">274</div>
            </div>
            <div>
              <div class="score-label">å½•å–ä¸­ä½åˆ†</div>
              <div class="score-value">278.5</div>
            </div>
            <div>
              <div class="score-label">å½•å–æœ€é«˜åˆ†</div>
              <div class="score-value">283</div>
            </div>
          </div>
          <div class="foot-row">
            <span>è¯¥é™¢æ ¡ä¸æ‚¨æ¯•ä¸šé™¢æ ¡æ’åå·®è·</span>
            <span class="foot-badge">è¾ƒå¤§</span>
          </div>
          <div class="match-actions">
            <button class="wishlist-btn" onclick="showWishlistModal(event)">åŠ å…¥å¿—æ„¿å•</button>
          </div>
        </div>
      </div>

      <div class="list-wrap tab-panel" data-panel="steady">
        <div class="card match-card" onclick="location.href='info-detail.html'">
          <div class="match-head">
            <div class="match-title">085404-è®¡ç®—æœºæŠ€æœ¯<span class="degree-badge pro">ä¸“ç¡•</span></div>
            <span class="badge mid">ä¸­</span>
          </div>
          <div class="school-line">
            <span class="school-logo">å¤§</span>
            <span>å¤§è¿æµ·æ´‹å¤§å­¦</span>
            <span class="location">â€¢ è¾½å®</span>
          </div>
          <div class="info-grid">
            <span>å¹´ä»½ï¼š2025</span>
            <span>å­¦ä¹ æ–¹å¼ï¼šéå…¨æ—¥åˆ¶</span>
            <span>ä¿¡æ¯å·¥ç¨‹å­¦é™¢</span>
            <span>è°ƒå‰‚æ‹›ç”Ÿï¼š1äºº</span>
          </div>
          <div class="score-row">
            <div>
              <div class="score-label">å½•å–æœ€ä½åˆ†</div>
              <div class="score-value">261</div>
            </div>
            <div>
              <div class="score-label">å½•å–ä¸­ä½åˆ†</div>
              <div class="score-value">266</div>
            </div>
            <div>
              <div class="score-label">å½•å–æœ€é«˜åˆ†</div>
              <div class="score-value">278</div>
            </div>
          </div>
          <div class="foot-row">
            <span>è¯¥é™¢æ ¡ä¸æ‚¨æ¯•ä¸šé™¢æ ¡æ’åå·®è·</span>
            <span class="foot-badge">è¾ƒå¤§</span>
          </div>
          <div class="match-actions">
            <button class="wishlist-btn" onclick="showWishlistModal(event)">åŠ å…¥å¿—æ„¿å•</button>
          </div>
        </div>
      </div>

      <div class="list-wrap tab-panel" data-panel="safe">
        <div class="card match-card" onclick="location.href='info-detail.html'">
          <div class="match-head">
            <div class="match-title">085404-è®¡ç®—æœºæŠ€æœ¯<span class="degree-badge pro">ä¸“ç¡•</span></div>
            <span class="badge easy">æ˜“</span>
          </div>
          <div class="school-line">
            <span class="school-logo">æ²ˆ</span>
            <span>æ²ˆé˜³ç†å·¥å¤§å­¦</span>
            <span class="location">â€¢ è¾½å®</span>
          </div>
          <div class="info-grid">
            <span>å¹´ä»½ï¼š2025</span>
            <span>å­¦ä¹ æ–¹å¼ï¼šéå…¨æ—¥åˆ¶</span>
            <span>ä¿¡æ¯ä¸æ§åˆ¶å­¦é™¢</span>
            <span>è°ƒå‰‚æ‹›ç”Ÿï¼š6äºº</span>
          </div>
          <div class="score-row">
            <div>
              <div class="score-label">å½•å–æœ€ä½åˆ†</div>
              <div class="score-value">248</div>
            </div>
            <div>
              <div class="score-label">å½•å–ä¸­ä½åˆ†</div>
              <div class="score-value">255</div>
            </div>
            <div>
              <div class="score-label">å½•å–æœ€é«˜åˆ†</div>
              <div class="score-value">264</div>
            </div>
          </div>
          <div class="foot-row">
            <span>è¯¥é™¢æ ¡ä¸æ‚¨æ¯•ä¸šé™¢æ ¡æ’åå·®è·</span>
            <span class="foot-badge">é€‚ä¸­</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="wishlistModal" onclick="closeWishlistModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">
        <div class="modal-title">é€‰æ‹©å¿—æ„¿</div>
        <button class="modal-close" onclick="closeWishlistModal(event)">Ã—</button>
      </div>
      <div class="wish-options">
        <button class="wish-option" onclick="selectWish('ä¸€å¿—æ„¿', this)">ä¸€å¿—æ„¿ï¼ˆç¬¬ä¸€ä¼˜å…ˆçº§ï¼‰</button>
        <button class="wish-option" onclick="selectWish('äºŒå¿—æ„¿', this)">äºŒå¿—æ„¿ï¼ˆç¬¬äºŒä¼˜å…ˆçº§ï¼‰</button>
        <button class="wish-option" onclick="selectWish('ä¸‰å¿—æ„¿', this)">ä¸‰å¿—æ„¿ï¼ˆç¬¬ä¸‰ä¼˜å…ˆçº§ï¼‰</button>
      </div>
    </div>
  </div>

  <div class="fab-cart" id="wishlistFab" onclick="location.href='wishlist.html'">
    <span class="fab-icon">ğŸ“‹</span>
    <div class="fab-badge" id="wishlistBadge">0</div>
  </div>

  <script src="../assets/app.js"></script>
  <script>
    // æ£€æŸ¥æ˜¯å¦ä»å¼•å¯¼æµç¨‹è·³è½¬è¿‡æ¥
    (function() {
      const urlParams = new URLSearchParams(window.location.search);
      const onboardingParam = urlParams.get('onboarding');
      
      if (onboardingParam === '1') {
        showToast('ç³»ç»Ÿå·²æ ¹æ®æ‚¨çš„ä¸€çº§å­¦ç§‘ä¸ºæ‚¨æ¨èé™¢æ ¡');
        // ç§»é™¤URLå‚æ•°
        window.history.replaceState({}, document.title, window.location.pathname);
      }
    })();

    function showWishlistModal(event) {
      if (event) {
        event.stopPropagation();
      }
      document.getElementById('wishlistModal').classList.add('active');
    }

    function closeWishlistModal(event) {
      if (event) {
        event.stopPropagation();
      }
      document.getElementById('wishlistModal').classList.remove('active');
    }

    let wishlistCount = 0;

    function selectWish(wish, element) {
      // å¢åŠ è®¡æ•°
      wishlistCount++;
      updateFabBadge();
      
      // æ·»åŠ æŒ‰é’®åŠ¨ç”»
      const fab = document.getElementById('wishlistFab');
      fab.classList.remove('animating');
      void fab.offsetWidth; // è§¦å‘é‡ç»˜
      fab.classList.add('animating');

      showToast('å·²æ·»åŠ åˆ°' + wish);
      closeWishlistModal();
    }

    function updateFabBadge() {
      const badge = document.getElementById('wishlistBadge');
      badge.textContent = wishlistCount;
      if (wishlistCount > 0) {
        badge.classList.add('visible');
      } else {
        badge.classList.remove('visible');
      }
    }
  </script>
</body>
</html>
