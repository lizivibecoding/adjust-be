<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>筛选</title>
  <link rel="stylesheet" href="../assets/base.css" />
  <style>
    .date-range { display: flex; align-items: center; gap: 10px; margin: 12px 0; }
    .date-item { flex: 1; background: #f4f6fb; padding: 12px; border-radius: 999px; text-align: center; color: #9aa3b2; font-size: 13px; }
    .date-sep { color: #6b7382; font-size: 12px; }
    .pill-row { display: flex; flex-wrap: wrap; gap: 10px; }
    .pill { padding: 10px 16px; border-radius: 999px; background: #f2f4f9; color: #6b7382; font-size: 13px; cursor: pointer; }
    .pill.active { background: rgba(47, 107, 255, 0.12); color: var(--primary); }
    .footer-actions { display: flex; gap: 12px; margin-top: 22px; }
    .footer-actions .btn-primary, .footer-actions .btn-ghost { flex: 1; }
  </style>
</head>
<body>
  <div class="toast"></div>
  <div class="page">
    <div class="container">
      <div>
        <div class="section-title">发布时间</div>
        <div class="date-range">
          <div class="date-item">请选择开始时间</div>
          <span class="date-sep">至</span>
          <div class="date-item">请选择结束时间</div>
        </div>
        <div class="pill-row" data-tab-group>
          <div class="pill" data-tab-item>今天</div>
          <div class="pill" data-tab-item>近3天</div>
          <div class="pill active" data-tab-item>近7天</div>
          <div class="pill" data-tab-item>近15天</div>
        </div>
      </div>

      <div style="margin-top:20px;">
        <div class="space-between">
          <div class="section-title">目标省份</div>
          <div class="muted">A区</div>
        </div>
        <div class="pill-row">
          <div class="pill">A区全部</div>
        </div>
        <div class="pill-row" style="margin-top: 10px;">
          <div class="pill">北京市</div>
          <div class="pill">天津市</div>
          <div class="pill">上海市</div>
          <div class="pill">江苏省</div>
          <div class="pill">浙江省</div>
          <div class="pill">福建省</div>
          <div class="pill">山东省</div>
          <div class="pill">河南省</div>
          <div class="pill">湖北省</div>
          <div class="pill active">湖南省</div>
          <div class="pill">广东省</div>
          <div class="pill">河北省</div>
          <div class="pill">山西省</div>
          <div class="pill">辽宁省</div>
          <div class="pill">吉林省</div>
          <div class="pill">黑龙江省</div>
          <div class="pill">安徽省</div>
          <div class="pill">江西省</div>
          <div class="pill">重庆市</div>
          <div class="pill">四川省</div>
          <div class="pill">陕西省</div>
        </div>
      </div>

      <div style="margin-top:20px;">
        <div class="space-between">
          <div class="section-title">目标省份</div>
          <div class="muted">B区</div>
        </div>
        <div class="pill-row">
          <div class="pill">B区全部</div>
        </div>
        <div class="pill-row" style="margin-top: 10px;">
          <div class="pill">内蒙古</div>
          <div class="pill">广西</div>
          <div class="pill">海南省</div>
          <div class="pill">贵州省</div>
          <div class="pill">云南省</div>
          <div class="pill">西藏</div>
          <div class="pill">甘肃省</div>
          <div class="pill">青海省</div>
          <div class="pill">宁夏</div>
          <div class="pill">新疆</div>
        </div>
      </div>

      <div style="margin-top:20px;">
        <div class="section-title">学习方式</div>
        <div class="pill-row">
          <div class="pill">全日制</div>
          <div class="pill">非全日制</div>
        </div>
      </div>

      <div style="margin-top:20px;">
        <div class="section-title">学术类型</div>
        <div class="pill-row" id="academic-type-row">
          <div class="pill active" data-type="学硕">学硕</div>
          <div class="pill" data-type="专硕">专硕</div>
        </div>
      </div>

      <div style="margin-top:20px;">
        <div class="section-title">一级学科</div>
        <div class="pill-row" id="discipline-row">
          <!-- 动态加载 -->
        </div>
      </div>

      <div style="margin-top:20px;">
        <div class="section-title">学校属性</div>
        <div class="pill-row">
          <div class="pill">985</div>
          <div class="pill">211</div>
          <div class="pill">双一流</div>
          <div class="pill">其他</div>
        </div>
      </div>

      <div style="margin-top:20px;">
        <div class="section-title">专项计划</div>
        <div class="pill-row">
          <div class="pill">只看专项计划</div>
        </div>
      </div>


      <div style="margin-top:20px;">
        <div class="section-title">数学科目</div>
        <div class="pill-row">
          <div class="pill">数一</div>
          <div class="pill">数二</div>
          <div class="pill">数三</div>
          <div class="pill">不考数学</div>
        </div>
      </div>

      <div style="margin-top:20px;">
        <div class="section-title">外语科目</div>
        <div class="pill-row">
          <div class="pill">英语一</div>
          <div class="pill">英语二</div>
          <div class="pill">俄语</div>
          <div class="pill">日语</div>
          <div class="pill">翻硕</div>
          <div class="pill">二外</div>
        </div>
      </div>

      <div class="footer-actions">
        <button class="btn-ghost" onclick="showToast('已重置')">重置</button>
        <button class="btn-primary" onclick="showToast('筛选已应用')">确定</button>
      </div>
    </div>
  </div>
  <script src="../assets/app.js"></script>
  <script>
    (function() {
      // 模拟工学下的一级学科数据
      const disciplines = {
        '学硕': [
          '力学', '机械工程', '光学工程', '仪器科学与技术', 
          '材料科学与工程', '动力工程及工程热物理', '电气工程', 
          '电子科学与技术', '信息与通信工程', '控制科学与工程', 
          '计算机科学与技术', '土木工程', '化学工程与技术', 
          '环境科学与工程'
        ],
        '专硕': [
          '建筑学', '城市规划', '电子信息', '机械', 
          '材料与化工', '资源与环境', '能源动力', 
          '土木水利', '生物与医药', '交通运输'
        ]
      };

      const academicRow = document.getElementById('academic-type-row');
      const disciplineRow = document.getElementById('discipline-row');
      
      // 渲染一级学科
      function renderDisciplines(type) {
        const list = disciplines[type] || [];
        disciplineRow.innerHTML = list.map(function(item) {
          return '<div class="pill">' + item + '</div>';
        }).join('');
        
        // 绑定新生成的 pill 点击事件
        disciplineRow.querySelectorAll('.pill').forEach(function(pill) {
          pill.addEventListener('click', function() {
            // 这里是一级学科的单选逻辑，如果需要多选请去掉移除 active 的逻辑
            if (this.classList.contains('active')) {
              this.classList.remove('active');
            } else {
              // 如果是单选：
              // disciplineRow.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
              this.classList.add('active');
            }
          });
        });
      }

      // 绑定学术类型点击事件
      if (academicRow) {
        const typePills = academicRow.querySelectorAll('.pill');
        typePills.forEach(function(pill) {
          pill.addEventListener('click', function() {
            // 学术类型单选逻辑
            typePills.forEach(function(p) {
              p.classList.remove('active');
            });
            this.classList.add('active');
            
            const type = this.getAttribute('data-type');
            renderDisciplines(type);
          });
        });

        // 初始化显示（默认选中第一个 active 的，或者默认学硕）
        const activePill = academicRow.querySelector('.pill.active');
        if (activePill) {
          renderDisciplines(activePill.getAttribute('data-type'));
        }
      }
    })();
  </script>
</body>
</html>
